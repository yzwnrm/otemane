<!DOCTYPE html>
<html>
    <head>
    {% load static %}
        <meta charset='utf-8'>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <title>おてまね</title>
        <link rel="stylesheet" href="{% static 'style.css' %}">
    </head>
    <body>
        <header>
            <a href="/app/home/" class="header-link">おてまね</a>
            <div class="header-links">
            <a href="/app/user/" class="header-link-2">マイページ</a>
            </div>
        </header>
{% block content %}
<body>
    <h3>家族情報編集・削除</h3>
<div style="display: flex; align-items: center;">
    <form method="get">
        <label>家族を選ぶ:</label>
        <select name="family_id" onchange="this.form.submit()">
            <option value="" disabled selected>選択してください</option>
            {% for user in family_user %}
                <option value="{{ user.id }}" {% if selected_user and user.id == selected_user.id %}selected{% endif %}>
                    {{ user.user_name }}
                </option>
            {% endfor %}
        </select>
    </form>
</div>
<div class="container d-flex flex-column align-items-center justify-content-center">

<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        {{ form.user_name }} <!-- ラベルを表示せずにフィールドのみ表示 -->
    </div>

    <!-- 続柄のフィールド（ラベルなし） -->
    <div class="mb-3">
        {{ form.relationship }}
    </div>

    <div class="d-flex justify-content-center gap-3 mt-3">
        <button type="submit" class="btn btn-primary">保存</button>
        <a class="btn btn-secondary" href="{% url 'app:family_info' family.id %}" role="button">戻る</a>
    </div>
</form>

</div>
{% endblock %} 