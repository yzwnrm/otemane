{% extends "base.html" %}
{% load static%}
{% block content %}
<h3>ãŠã¦ã¤ã ã„ã‚’ãˆã‚‰ã¶</h3>
{% if messages %}
  <div class="mb-3">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<p class="ms-5">ğŸ’¬ãŠã¦ã¤ã ã„ã¯ï¼‘ï¼ã“ã¾ã§ãˆã‚‰ã¹ã‚‹ã‚ˆ</p>

<div class="container">
  <div class="row row-cols-1 row-cols-md-2 g-3">
    {% for help in page_obj %}
      <div class="col">
        <div class="help-item border p-3 h-100">
          <div class="d-flex justify-content-between align-items-center">
            <div class="me-2" style="min-width: 0;">
              <div class="fw-bold mb-1">{{ help.help_name }}</div>
              <div class="text-muted small">
                {% for reward in help.rewards.all %}
                  {% if reward.reward_type == 1 %}
                    ğŸ’° {{ reward.reward_prize }}ãˆã‚“<br>
                  {% elif reward.reward_type == 0 %}
                    ğŸ© ãŠã‹ã— 1ã“<br>
                  {% elif reward.reward_type == 2 %}
                    ğŸ™ {{ reward.reward_detail }}<br>
                  {% endif %}
                {% empty %}
                  â€” å ±é…¬ãªã—
                {% endfor %}
              </div>
            </div>

            <!-- å³: ãƒœã‚¿ãƒ³ -->
          <form method="post" class="d-flex align-items-center" style="min-width: 100px;">
            {% csrf_token %}
            <input type="hidden" name="help_id" value="{{ help.id }}">
            <button type="submit" class="btn btn-success w-100">ãˆã‚‰ã¶</button>
          </form>

          </div>
        </div>
      </div>
    {% empty %}
      <p>ãŠæ‰‹ä¼ã„ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endfor %}
  </div>



  <div class="pagination mt-4 d-flex justify-content-center">
      <span class="step-links">
          {% if page_obj.has_previous %}
              <a href="?page={{ page_obj.previous_page_number }}">å‰</a>
          {% endif %}
          <span class="current">
              ãƒšãƒ¼ã‚¸ {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
          </span>
          {% if page_obj.has_next %}
              <a href="?page={{ page_obj.next_page_number }}">æ¬¡</a>
          {% endif %}
      </span>
  </div>
</div>


{% endblock %}
